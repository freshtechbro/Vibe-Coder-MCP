@echo off
echo ================================================================\necho VibeCoder Utility Script\necho ================================================================\necho.\necho Available commands:\necho 1. build    - Build VibeCoder project\necho 2. test     - Test VibeCoder server startup\necho 3. rebuild  - Clean rebuild (npm install + build)\necho 4. help     - Show this help\necho.\n\nif \"%1\"==\"\" (\n    echo Usage: %0 [build^|test^|rebuild^|help]\n    echo Example: %0 build\n    goto :end\n)\n\nif \"%1\"==\"build\" (\n    echo Building VibeCoder...\n    cd C:\\Users\\Ascension\\Claude\\root\\vibe-coder-mcp\n    npm run build\n    if %errorlevel% equ 0 (\n        echo ✓ Build successful!\n    ) else (\n        echo ✗ Build failed!\n    )\n    goto :end\n)\n\nif \"%1\"==\"test\" (\n    echo Testing VibeCoder server startup...\n    cd C:\\Users\\Ascension\\Claude\\root\\vibe-coder-mcp\n    timeout /t 5 /nobreak > nul 2>&1 ^& echo VibeCoder server test completed ^& taskkill /f /im node.exe > nul 2>&1 ^| node build/index.js 2>&1\n    goto :end\n)\n\nif \"%1\"==\"rebuild\" (\n    echo Rebuilding VibeCoder (clean install + build)...\n    cd C:\\Users\\Ascension\\Claude\\root\\vibe-coder-mcp\n    echo Installing dependencies...\n    npm install\n    echo Building project...\n    npm run build\n    if %errorlevel% equ 0 (\n        echo ✓ Rebuild successful!\n    ) else (\n        echo ✗ Rebuild failed!\n    )\n    goto :end\n)\n\nif \"%1\"==\"help\" (\n    echo.\n    echo VibeCoder Utility Script Help\n    echo ===============================\n    echo.\n    echo Commands:\n    echo   build    - Compiles TypeScript to JavaScript in build/ directory\n    echo   test     - Starts VibeCoder server briefly to test for errors\n    echo   rebuild  - Full clean reinstall and build (use if dependencies changed)\n    echo   help     - Shows this help message\n    echo.\n    echo Examples:\n    echo   vibecoder-utils.bat build\n    echo   vibecoder-utils.bat test\n    echo   vibecoder-utils.bat rebuild\n    echo.\n    goto :end\n)\n\necho Invalid command: %1\necho Use: %0 help for available commands\n\n:end\npause\n